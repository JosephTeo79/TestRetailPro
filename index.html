<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SubMain</title>
</head>
<body>

<h1>SubMain Page</h1>
<button id="bot-button">ðŸ’¬ Open Bot</button>
<iframe id="bot-iframe" style="display:none;width:400px;height:500px;"></iframe>

<script>
const entry = 'SubMain';
const botButton = document.getElementById('bot-button');
const botIframe = document.getElementById('bot-iframe');

const botUrl = "https://cdn.botpress.cloud/webchat/v3.5/shareable.html?configUrl=https://files.bpcontent.cloud/2025/12/22/00/20251222001942-XSX123E9.json";

botButton.addEventListener('click', () => {
  if (botIframe.style.display === 'none') {
    // ç¬¬ä¸€æ¬¡åŠ è½½ iframe å¹¶æŠŠ entry æ”¾åœ¨ extraParams
    if (!botIframe.src) {
      const params = encodeURIComponent(JSON.stringify({ entry }));
      botIframe.src = botUrl + `&extraParams=${params}`;
    }
    botIframe.style.display = 'block';
  } else {
    botIframe.style.display = 'none';
  }
});
</script>

</body>
</html>
