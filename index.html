<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SubMain Page</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  #bot-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #007bff;
    color: white;
    font-size: 24px;
    border: none;
    cursor: pointer;
    z-index: 1000;
  }
  #bot-iframe {
    position: fixed;
    bottom: 100px;
    right: 20px;
    width: 400px;
    height: 500px;
    border: 1px solid #ccc;
    border-radius: 8px;
    display: none;
    z-index: 999;
  }
</style>
</head>
<body>

<h1>SubMain Page</h1>
<p>ç‚¹å‡»æŒ‰é’®å¯åŠ¨ Botpressã€‚</p>

<button id="bot-button">ğŸ’¬</button>
<iframe id="bot-iframe" style="display:none;"></iframe>

<script>
const entry = "SubMain"; // è¿™é‡Œç›´æ¥å†™ä½ è¦æ˜¾ç¤ºçš„åå­—

const botButton = document.getElementById('bot-button');
const botIframe = document.getElementById('bot-iframe');

botButton.addEventListener('click', () => {
  if (botIframe.style.display === 'none') {
    botIframe.src = "https://cdn.botpress.cloud/webchat/v3.5/shareable.html?configUrl=https://files.bpcontent.cloud/2025/12/22/00/20251222001942-XSX123E9.json";
    botIframe.style.display = 'block';

    // â— ç­‰ iframe åŠ è½½å®Œå†å‘é€ event
    botIframe.onload = () => {
      botIframe.contentWindow.postMessage(
        {
          type: 'custom',
          channel: 'web',
          payload: { entry: entry } // è¿™é‡ŒæŠŠ entry å‘é€è¿‡å»
        },
        '*'
      );
    };
  } else {
    botIframe.style.display = 'none';
  }
});
</script>



</body>
</html>
