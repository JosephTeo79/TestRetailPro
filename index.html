<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SubMain - Retail Pro Prism</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  h1 { color: #333; }
  p { font-size: 16px; }
  #bot-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #007bff;
    color: white;
    font-size: 24px;
    border: none;
    cursor: pointer;
    z-index: 1000;
  }
</style>
</head>
<body>

<h1>SubMain Page</h1>
<p>è¿™é‡Œæ˜¯ SubMain å†…å®¹ã€‚</p>

<button id="bot-button">ğŸ’¬</button>

<!-- Botpress Webchat JS -->
<script src="https://cdn.botpress.cloud/webchat/v1/inject.js"></script>

<script>
  const entry = "submain"; // ä½ æƒ³ä¼ ç»™ Bot çš„ entry
  let webchatInitialized = false;

  document.getElementById('bot-button').addEventListener('click', () => {
    if (!webchatInitialized) {
      // åˆå§‹åŒ– Botpress Webchat
      window.botpressWebChat.init({
        botId: "XSX123E9",                     // <-- ä½ çš„ Bot ID
        hostUrl: "https://messaging.botpress.cloud",
        messagingUrl: "https://messaging.botpress.cloud",
        showPoweredBy: false,
        enableConversationDeletion: false,
        extraData: { entry }                    // ä¼ ç»™ Bot
      });
      webchatInitialized = true;
    }

    // æ‰“å¼€ Webchat
    window.botpressWebChat.open();

    // å‘é€è‡ªå®šä¹‰äº‹ä»¶ï¼ˆç¡®ä¿ Bot æ”¶åˆ° entryï¼‰
    window.botpressWebChat.sendEvent({
      type: 'custom',
      channel: 'web',
      payload: { entry }
    });
  });
</script>

</body>
</html>
