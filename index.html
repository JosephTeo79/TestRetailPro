<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Botpress Demo</title>
</head>
<body>

<h1>Botpress Demo</h1>
<form id="myform">
  <label>Name:</label><input type="text" name="name" required><br>
  <label>Email:</label><input type="email" name="email" required><br>
  <button type="submit">Submit</button>
</form>

<!-- 1️⃣ 用 v3.5 -->
<script>
function initBot() {
  if (!window.botpressWebChat) {
    console.error("Botpress WebChat not loaded!");
    return;
  }

  window.botpressWebChat.init({
    botId: "你的botId",
    clientId: "你的clientId",
    hostUrl: "https://cdn.botpress.cloud/webchat/v3.5",
    messagingUrl: "https://messaging.botpress.cloud",
    hideWidget: true,
    lazySocket: true,
    useSessionStorage: true
  });

  window.botpressWebChat.isReady = false;
  window.botpressWebChat.onEvent((event) => {
    if(event.type === 'LIFECYCLE.READY'){
      window.botpressWebChat.isReady = true;
      console.log("Botpress Ready");
    }
  });
}
</script>

<!-- 注意：inject.js 必须放在函数定义后 -->
<script src="https://cdn.botpress.cloud/webchat/v3.5/inject.js" onload="initBot()"></script>


</body>
</html>
